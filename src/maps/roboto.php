<?php
namespace fmihel\report\map;

class roboto
{
    const map = [
        'common' => 8.5,
        'b'      => 8.8,
        'd'      => 8.8,
        'e'      => 8.3,
        'f'      => 5.5,
        'g'      => 8.8,
        'h'      => 8.7,
        'i'      => 3.9,
        'j'      => 4,
        'k'      => 7.9,
        'l'      => 3.9,
        'm'      => 13.6,
        'n'      => 8.7,
        'o'      => 8.8,
        'p'      => 8.7,
        'q'      => 8.8,
        'r'      => 5.6,
        's'      => 8,
        't'      => 5.3,
        'u'      => 8.7,
        'v'      => 7.8,
        'w'      => 11.8,
        'x'      => 7.8,
        'y'      => 7.5,
        'z'      => 7.6,

        'A'      => 10,
        'B'      => 9.6,
        'C'      => 10,
        'D'      => 10.2,
        'E'      => 8.8,
        'F'      => 8.8,
        'G'      => 10.7,
        'H'      => 11,
        'I'      => 4.5,
        'J'      => 8.8,
        'K'      => 10,
        'L'      => 8.3,
        'M'      => 13.6,
        'N'      => 11,
        'O'      => 10.5,
        'P'      => 9.6,
        'Q'      => 10.7,
        'R'      => 9.8,
        'S'      => 9.4,
        'T'      => 9.4,
        'U'      => 10.2,
        'V'      => 10,
        'W'      => 13.6,
        'X'      => 9.6,
        'Y'      => 9.4,
        'Z'      => 9.2,

        'в'      => 8.7,
        'г'      => 6.7,
        'д'      => 9.6,
        'е'      => 8.2,
        'ё'      => 8.2,
        'ж'      => 11.8,
        'з'      => 7.9,
        'и'      => 8.8,
        'й'      => 8.8,
        'к'      => 8.2,
        'л'      => 8.8,
        'м'      => 11.3,
        'н'      => 8.8,
        'о'      => 8.8,
        'п'      => 8.8,
        'р'      => 8.8,
        'с'      => 8.2,
        'т'      => 7.5,
        'у'      => 7.6,
        'ф'      => 11.3,
        'х'      => 7.6,
        'ц'      => 9.2,
        'ч'      => 8.3,
        'ш'      => 12.5,
        'щ'      => 12.5,
        'ъ'      => 9.8,
        'ы'      => 11.8,
        'ь'      => 8.3,
        'э'      => 8.3,
        'ю'      => 12.5,
        'я'      => 8.5,

        'А'      => 10,
        'Б'      => 10,
        'В'      => 9.6,
        'Г'      => 8.7,
        'Д'      => 11.8,
        'Е'      => 8.8,
        'Ё'      => 8.8,
        'Ж'      => 13.6,
        'З'      => 9.4,
        'И'      => 11,
        'Й'      => 11,
        'К'      => 10,
        'Л'      => 11.3,
        'М'      => 13.2,
        'Н'      => 11,
        'О'      => 10.5,
        'П'      => 11,
        'Р'      => 9.6,
        'С'      => 10.2,
        'Т'      => 9.4,
        'У'      => 9.8,
        'Ф'      => 11.8,
        'Х'      => 9.6,
        'Ц'      => 11.3,
        'Ч'      => 10.2,
        'Ш'      => 14.5,
        'Щ'      => 15,
        'Ъ'      => 11.8,
        'Ы'      => 13.2,
        'Ь'      => 9,
        'Э'      => 10.7,
        'Ю'      => 14.1,
        'Я'      => 9.6,

        '0'      => 8.7,
        '1'      => 8.7,
        '2'      => 8.7,
        '3'      => 8.7,
        '4'      => 8.7,
        '5'      => 8.7,
        '6'      => 8.7,
        '7'      => 8.7,
        '8'      => 8.7,
        '9'      => 8.7,

        ' '      => 4,
        '.'      => 4.4,
        ','      => 3.6,
        '-'      => 4.7,
        '+'      => 9,
        '('      => 4.5,
        ')'      => 4.5,
        '_'      => 7,
        '='      => 8.7,
        '*'      => 7.9,
    ];

    public static function charWidth(string $char)
    {
        return isset(self::map[$char]) ? self::map[$char] : self::map['common'];
    }
    public static function stringWidth(string $text)
    {
        $result = 0;
        $len    = strlen($text);
        for ($i = 0; $i < $len; $i++) {
            $char = $text[$i];
            $result += isset(self::map[$char]) ? self::map[$char] : self::map['common'];
        }
        return $result;
    }
}
